{"ast":null,"code":"var _jsxFileName = \"C:\\\\KarShare-master\\\\src\\\\components\\\\Updateprof.js\";\nimport React from 'react';\nimport { Redirect, withRouter } from \"react-router-dom\";\n\nclass Updateprof extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      fullname: \"\",\n      email: \"\",\n      Gender: \"\",\n      contactno: \"\",\n      dateofbirth: \"\",\n      status: \"\",\n      password: '',\n      status: ''\n    };\n    this.handlechange = this.handlechange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:4000/userdetails\", {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'authorization': localStorage.getItem('tok')\n      }\n    }).then(res => res.json()).then(res => {\n      this.setState({\n        fullname: res.name,\n        email: res.email,\n        Gender: res.Gender,\n        contactno: res.contact,\n        dateofbirth: res.date,\n        password: res.password\n      });\n    });\n  }\n\n  handlechange(event) {\n    const {\n      name,\n      value,\n      checked,\n      type\n    } = event.target;\n    event.target.type == \"checkbox\" ? this.setState({\n      [event.target.name]: event.target.checked\n    }) : this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async onSubmit() {\n    await fetch(\"http://localhost:4000/editprofile\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        fullname: this.state.fullname,\n        email: this.state.email,\n        password: this.state.password\n      })\n    });\n    this.setState({\n      status: 'true'\n    });\n  }\n\n  render() {\n    if (this.state.status == 'true') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.fullname,\n      name: \"fullname\",\n      placeholder: this.state.fullname,\n      size: \"24\",\n      onChange: this.handlechange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.email,\n      name: \"email\",\n      placeholder: this.state.email,\n      size: \"24\",\n      onChange: this.handlechange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      value: this.state.password,\n      name: \"password\",\n      placeholder: this.state.password,\n      size: \"24\",\n      onChange: this.handlechange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, \"Update\"));\n  }\n\n}\n\nexport default withRouter(Updateprof);","map":{"version":3,"sources":["C:/KarShare-master/src/components/Updateprof.js"],"names":["React","Redirect","withRouter","Updateprof","Component","constructor","state","fullname","email","Gender","contactno","dateofbirth","status","password","handlechange","bind","onSubmit","componentDidMount","fetch","method","headers","localStorage","getItem","then","res","json","setState","name","contact","date","event","value","checked","type","target","body","JSON","stringify","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nclass Updateprof extends React.Component{\r\nconstructor(){\r\nsuper()\r\nthis.state = {\r\n  fullname: \"\",\r\n  email: \"\",\r\n  Gender: \"\",\r\n  contactno: \"\",\r\n  dateofbirth: \"\",\r\n  status: \"\",\r\n  password:'',\r\n  status:''\r\n};\r\nthis.handlechange=this.handlechange.bind(this)\r\nthis.onSubmit=this.onSubmit.bind(this)\r\n}\r\n\r\ncomponentDidMount() {\r\n  fetch(\"http://localhost:4000/userdetails\", {\r\n    method: \"get\",\r\n    headers: { \"Content-Type\": \"application/json\",'authorization':localStorage.getItem('tok') }}).\r\n    then(res => res.json()).\r\n    then(res => {this.setState({fullname:res.name,email:res.email,Gender:res.Gender,contactno:res.contact,dateofbirth:res.date,password:res.password})})\r\n\r\n}\r\nhandlechange(event) {\r\n    const { name, value, checked, type } = event.target;\r\n    event.target.type == \"checkbox\"\r\n      ? this.setState({ [event.target.name]: event.target.checked })\r\n      : this.setState({\r\n          [event.target.name]: event.target.value,\r\n        });\r\n  }\r\n  async onSubmit(){\r\n    await fetch(\"http://localhost:4000/editprofile\", {\r\n      method: \"put\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        fullname:this.state.fullname,\r\n        email: this.state.email,\r\n        password: this.state.password\r\n      }),\r\n    })\r\n      \r\n    this.setState({status:'true'})\r\n\r\n  }\r\n  render(){\r\n    if(this.state.status=='true'){\r\n      return(\r\n      <Redirect to='/'></Redirect>\r\n      )\r\n  }\r\n    return(\r\n      <div>\r\n            <input\r\n              type=\"text\"\r\n              value={this.state.fullname}\r\n              name=\"fullname\"\r\n              placeholder={this.state.fullname}\r\n              size=\"24\"\r\n              onChange={this.handlechange}\r\n              required\r\n            />\r\n             <input\r\n              type=\"text\"\r\n              value={this.state.email}\r\n              name=\"email\"\r\n              placeholder={this.state.email}\r\n              size=\"24\"\r\n              onChange={this.handlechange}\r\n              required\r\n            />\r\n              <input\r\n              type=\"password\"\r\n              value={this.state.password}\r\n              name=\"password\"\r\n              placeholder={this.state.password}\r\n              size=\"24\"\r\n              onChange={this.handlechange}\r\n              required\r\n            />\r\n            <br></br>\r\n            <button onClick={this.onSubmit}>Update</button>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withRouter(Updateprof);"]},"metadata":{},"sourceType":"module"}