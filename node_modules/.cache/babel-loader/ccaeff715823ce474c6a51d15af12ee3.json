{"ast":null,"code":"var _jsxFileName = \"C:\\\\KarShare-master\\\\src\\\\components\\\\Addimage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Redirect, withRouter } from \"react-router-dom\";\n\nclass Addimage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      files: '',\n      status: ''\n    };\n    this.handlechange = this.handlechange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  handlechange(event) {\n    this.setState({\n      files: event.target.files[0]\n    });\n  }\n\n  onSubmit() {\n    const data = new FormData();\n    console.log(this.state.files);\n    data.append('file', this.state.files);\n    console.log(data);\n    axios.put(\"http://localhost:4000/pics\", data, {\n      headers: {\n        'authorization': localStorage.getItem('tok')\n      } // receive two    parameter endpoint url ,form data\n\n    }).then(res => {\n      // then print response status\n      console.log(res.statusText);\n    });\n    this.props.history.push('/');\n    this.setState({\n      status: 'true'\n    });\n  }\n\n  render() {\n    if (this.state.status == 'true') {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      onChange: this.handlechange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \" Upload picture\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: \".\\\\\\\\uploads\\\\\\\\2020-05-31T22_35_36.891ZAround Trip (1).png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(Addimage);","map":{"version":3,"sources":["C:/KarShare-master/src/components/Addimage.js"],"names":["React","axios","Redirect","withRouter","Addimage","Component","constructor","state","files","status","handlechange","bind","onSubmit","event","setState","target","data","FormData","console","log","append","put","headers","localStorage","getItem","then","res","statusText","props","history","push","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC;;AACA,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAsC;AAClCC,EAAAA,WAAW,GAAE;AACT;AACJ,SAAKC,KAAL,GAAW;AACXC,MAAAA,KAAK,EAAC,EADK;AAEXC,MAAAA,MAAM,EAAC;AAFI,KAAX;AAIA,SAAKC,YAAL,GAAkB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAlB;AACA,SAAKC,QAAL,GAAc,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAd;AACC;;AACDD,EAAAA,YAAY,CAACG,KAAD,EAAQ;AAEhB,SAAKC,QAAL,CAAc;AAACN,MAAAA,KAAK,EAACK,KAAK,CAACE,MAAN,CAAaP,KAAb,CAAmB,CAAnB;AAAP,KAAd;AAGD;;AACHI,EAAAA,QAAQ,GAAE;AACN,UAAMI,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAL,CAAWC,KAAvB;AACLQ,IAAAA,IAAI,CAACI,MAAL,CAAY,MAAZ,EAAoB,KAAKb,KAAL,CAAWC,KAA/B;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAf,IAAAA,KAAK,CAACoB,GAAN,CAAU,4BAAV,EAAwCL,IAAxC,EAA8C;AAC1CM,MAAAA,OAAO,EAAC;AAAC,yBAAgBC,YAAY,CAACC,OAAb,CAAqB,KAArB;AAAjB,OADkC,CAE7C;;AAF6C,KAA9C,EAGAC,IAHA,CAGKC,GAAG,IAAI;AAAE;AACbR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACC,UAAhB;AACF,KALC;AAOH,SAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA,SAAKhB,QAAL,CAAc;AAACL,MAAAA,MAAM,EAAC;AAAR,KAAd;AACC;;AAGGsB,EAAAA,MAAM,GAAE;AACJ,QAAG,KAAKxB,KAAL,CAAWE,MAAX,IAAmB,MAAtB,EAA6B;AACzB,0BACA,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA;AAGH;;AACD,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,MAAxB;AAA+B,MAAA,QAAQ,EAAE,KAAKC,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAQ,MAAA,OAAO,EAAE,KAAKE,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFJ,eAGA;AAAK,MAAA,GAAG,EAAC,6DAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHA,CADJ;AAOH;;AA9CiC;;AAgDtC,eAAeT,UAAU,CAACC,QAAD,CAAzB","sourcesContent":["import React from 'react'\r\nimport axios from 'axios';\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nclass Addimage extends React.Component{\r\n    constructor(){\r\n        super()\r\n    this.state={\r\n    files:'',\r\n    status:''\r\n    }\r\n    this.handlechange=this.handlechange.bind(this)\r\n    this.onSubmit=this.onSubmit.bind(this)\r\n    }\r\n    handlechange(event) {\r\n        \r\n        this.setState({files:event.target.files[0]})\r\n    \r\n      \r\n      }\r\n    onSubmit(){\r\n        const data = new FormData()\r\n        console.log(this.state.files)\r\n   data.append('file', this.state.files)\r\n   console.log(data)\r\n   axios.put(\"http://localhost:4000/pics\", data, {\r\n       headers:{'authorization':localStorage.getItem('tok')} \r\n    // receive two    parameter endpoint url ,form data\r\n}).then(res => { // then print response status\r\n    console.log(res.statusText)\r\n })\r\n \r\nthis.props.history.push('/')\r\nthis.setState({status:'true'})\r\n}\r\n    \r\n\r\n    render(){\r\n        if(this.state.status=='true'){\r\n            return(\r\n            <Redirect to='/'></Redirect>\r\n            )\r\n        }\r\n        return(\r\n            <div>\r\n                <input type='file' name='file' onChange={this.handlechange}></input>\r\n                <button onClick={this.onSubmit}> Upload picture</button>\r\n            <img src=\".\\\\uploads\\\\2020-05-31T22_35_36.891ZAround Trip (1).png\"></img>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Addimage)"]},"metadata":{},"sourceType":"module"}